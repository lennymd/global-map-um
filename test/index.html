<!DOCTYPE html>
<meta charset="utf-8" />

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>

<!-- Create an element where the map will take place -->
<div id="wrapper"></div>
<svg id="my_dataviz"></svg>
<script>
  let dimensions = {
    width: window.innerWidth * 0.9,
    height: window.innerHeight * 0.9,
    margin: {
      top: 10,
      right: 10,
      bottom: 10,
      left: 10,
    },
  };

  const wrapper = 0;
  // The svg
  var svg = d3
    .select('svg')
    .attr('width', dimensions.width)
    .attr('height', dimensions.height);
  (width = +dimensions.width), (height = +svg.attr('height'));

  // Map and projection
  var projection = d3
    .geoNaturalEarth()
    .scale(width / 1.3 / Math.PI)
    .translate([width / 2, height / 2]);

  // Load external data and boot
  d3.json(
    'https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson',
    function (data) {
      // Draw the map
      svg
        .append('g')
        .selectAll('path')
        .data(data.features)
        .enter()
        .append('path')
        .attr('fill', '#69b3a2')
        .attr('d', d3.geoPath().projection(projection))
        .style('stroke', '#fff');
    }
  );
</script>
